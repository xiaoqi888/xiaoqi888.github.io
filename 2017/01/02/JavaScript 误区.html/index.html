<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="xiaoqi" />

<meta name="keywords" content="黄小齐,黄小齐前端博客,前端开发,分享前端技术,web前端开发博客,xiaoqi888,技术博客,blog">



<meta name="description" content="接触JavaScript两年多遇到过各种错误，其中有一些让人防不胜防，原来对JavaScript的误会如此之深，仅以此文总结一下常见的各种想当然的误区">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript 误区">
<meta property="og:url" content="http://www.xiaoqi888.cn/2017/01/02/JavaScript 误区.html/index.html">
<meta property="og:site_name" content="黄小齐前端博客—热爱WEB前端开发,分享前端技术">
<meta property="og:description" content="接触JavaScript两年多遇到过各种错误，其中有一些让人防不胜防，原来对JavaScript的误会如此之深，仅以此文总结一下常见的各种想当然的误区">
<meta property="og:updated_time" content="2017-02-22T15:15:11.101Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript 误区">
<meta name="twitter:description" content="接触JavaScript两年多遇到过各种错误，其中有一些让人防不胜防，原来对JavaScript的误会如此之深，仅以此文总结一下常见的各种想当然的误区">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="黄小齐前端博客—热爱WEB前端开发,分享前端技术" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>JavaScript 误区 | 黄小齐前端博客—热爱WEB前端开发,分享前端技术</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">xiaoqi</a></h1>
        </hgroup>

        
        <p class="header-subtitle">当你的才华还撑不起你的野心时，那你就应该静下心来学习。</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="#" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="#" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ajax/">Ajax</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CheckBox/">CheckBox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM/">DOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSONP/">JSONP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jquery/">Jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web安全/">Web安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apply/">apply</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/call/">call</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/head/">head</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5/">html5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/input/">input</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/padding/">padding</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prototype/">prototype</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/text/">text</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/textarea/">textarea</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/val/">val</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/三级联动/">三级联动</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/个人博客/">个人博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/倒计时/">倒计时</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动画/">动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/原型/">原型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/原型链/">原型链</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学习路线/">学习路线</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/封装/">封装</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/当前时间/">当前时间</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/拖拽/">拖拽</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/提交/">提交</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据格式/">数据格式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/无缝滚动/">无缝滚动</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/构造函数/">构造函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/监听/">监听</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动端/">移动端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/表单/">表单</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/运算符/">运算符</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/遍历/">遍历</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/闭包/">闭包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/防御/">防御</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随机数/">随机数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随机点名/">随机点名</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面向对象/">面向对象</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.qdabc.cn">前端abc</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">xiaoqi</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">xiaoqi</a></h1>
            </hgroup>
            
            <p class="header-subtitle">当你的才华还撑不起你的野心时，那你就应该静下心来学习。</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="#" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="#" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap"><article id="post-JavaScript 误区" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/02/JavaScript 误区.html/" class="article-date">
      <time datetime="2017-01-02T06:06:23.000Z" itemprop="datePublished">2017-01-02</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JavaScript 误区
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>接触JavaScript两年多遇到过各种错误，其中有一些让人防不胜防，原来对JavaScript的误会如此之深，仅以此文总结一下常见的各种想当然的误区<br><a id="more"></a></p>
<h5 id="String-replace"><a href="#String-replace" class="headerlink" title="String replace"></a>String replace</h5><p>string的replace方法我们经常用，替换string中的某些字符，语法像这样子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">string.replace(subStr/reg,replaceStr/function)</div></pre></td></tr></table></figure></p>
<p>第一个参数是要查找的字符串或者一个正则表达式，第二个参数是想替换成的字符串或一个方法，我们可以这么使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&quot;I&apos;m Byron&quot;.replace(&quot;B&quot;,&quot;b&quot;) // I&apos;m byron</div></pre></td></tr></table></figure></p>
<p>结果和我们想得一样，但是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&quot;I&apos;m a student, and you?&quot;.replace(&quot;n&quot;,&quot;N&quot;); // I&apos;m a studeNt, and you?</div></pre></td></tr></table></figure></p>
<p>和我们预期的不一样，第二个‘n’没有被替换。字符串的 replace 方法如果第一个参数传入字符串，那么只有第一个匹配项会被替换。如果要替换全部匹配项，需要传入一个 RegExp 对象并指定其 global 属性。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&quot;I&apos;m a student, and you?&quot;.replace(/n/g,&quot;N&quot;); // I&apos;m a studeNt, aNd you?</div></pre></td></tr></table></figure></p>
<h5 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h5><p>关于typeof最容易让人误会的就是typeof是操作符，并不是函数，也就是说我们在判断一变量类型时没必要加括号，直接使用即可<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">typeof 1; //number</div><div class="line">typeof(1); //number, 没必要这么写，但是也没错，等于是给变量或常量包装了一下</div></pre></td></tr></table></figure></p>
<p>typeof 的返回值是字符串，在大多数情况下返回的和我们预期结果是一样的，但是有几点注意的地方,我们知道JavaScript有几种基本类型，number、string、boolean、null、undefined，再就是对象object了，我们看几个例子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">typeof 123; //number</div><div class="line">typeof NaN //number</div><div class="line">typeof &quot;123&quot; //string</div><div class="line">typeof false; //boolean</div><div class="line">typeof undefined; //undefined</div><div class="line">typeof null //object</div><div class="line">typeof new Array(); //object</div><div class="line">typeof(new Array()); //觉得不够清晰可以这么用，结果是一样的</div><div class="line">typeof(function() &#123;&#125;); //function</div><div class="line">typeof a; //undefined</div></pre></td></tr></table></figure></p>
<ul>
<li><p>123是个数字返回number</p>
</li>
<li><p>虽然NaN表示不是数字，但是typeof仍然会返回number</p>
</li>
<li><p>“123” 变成了字符串，所以返回string</p>
</li>
<li><p>false 类型就是boolean</p>
</li>
<li><p>undefined的类型就是undefined，这个类型的变量只能有一个字面值”undefined”</p>
</li>
<li><p>null的类型并不是null，而是object，所以我们不要寄希望与typeof帮我们判断null</p>
</li>
<li><p>typeof如果判断是对象只会返回object,而不会返回Array、Date的具体类型</p>
</li>
<li><p>function也是object的一种，按说也应该直接返回object。但是typeof对它区别对待了，返回了function，我们可以用此判断变量是否为函数</p>
</li>
<li><p>没定义的变量同样返回undefined</p>
</li>
</ul>
<h5 id="if和"><a href="#if和" class="headerlink" title="if和=="></a>if和==</h5><p>在javascript中if并不仅仅判断boolean决定真假，0、NaN、””、undefined、null、false都会被认为是假<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">if (!false) &#123;</div><div class="line">	console.log(1);</div><div class="line">&#125;;</div><div class="line">if (!0) &#123;</div><div class="line">	console.log(2);</div><div class="line">&#125;;</div><div class="line">if (!&quot;&quot;) &#123;</div><div class="line">	console.log(3);</div><div class="line">&#125;;</div><div class="line">if (!undefined) &#123;</div><div class="line">	console.log(4);</div><div class="line">&#125;;</div><div class="line">if (!null) &#123;</div><div class="line">	console.log(5);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">if (!NaN) &#123;</div><div class="line"></div><div class="line">	console.log(6);</div><div class="line"></div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>在console中123456都会被打印出来</p>
<p>但是这并不意味着这些值就==false<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">0 == false; //true</div><div class="line">&quot;0&quot; == false; //true,这个也是true</div><div class="line">undefined == false //false</div><div class="line">null == false //false</div><div class="line">null == null //true</div><div class="line">NaN == NaN //false</div><div class="line">null == undefined //true</div></pre></td></tr></table></figure></p>
<p>纳尼！！！</p>
<p>相等运算符 （==、!=） <strong> 如果两表达式的类型不同，则试图将它们转换为字符串、数字或 Boolean 量</strong>。</p>
<p>NaN 与包括其本身在内的任何值都不相等。</p>
<p>负零等于正零。</p>
<p>null 与 null 和 undefined 相等。</p>
<p>相同的字符串、数值上相等的数字、相同的对象、相同的 Boolean 值或者（当类型不同时）能被强制转化为上述情况之一，均被认为是相等的。其他比较均被认为是不相等的。</p>
<p>所以说 0==”0”; 返回的也会是true。</p>
<p>那么应该则么判断两个变量究竟是不是一回事儿呢</p>
<p><strong>恒等运算符 （===、!==） </strong></p>
<p>除了不进行类型转换，并且类型必须相同以外，这些运算符与相等运算符的作用是一样的，这下就搞定了。</p>
<h5 id="Date-对象"><a href="#Date-对象" class="headerlink" title="Date 对象"></a>Date 对象</h5><p>我们可以这样构造一个Date对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">new Date() //Date &#123;Fri Aug 02 2013 16:50:33 GMT+0800 (China Standard Time)&#125;</div><div class="line">new Date(milliseconds) //Date &#123;Fri Aug 02 2013 16:53:26 GMT+0800 (China Standard Time)&#125;</div><div class="line">new Date(&quot;2013/08/02&quot;) //Date &#123;Fri Aug 02 2013 00:00:00 GMT+0800 (China Standard Time)&#125;</div><div class="line">new Date(year, month, day, hours, minutes, seconds, ms)</div></pre></td></tr></table></figure></p>
<p>前三种方式没有什么问题，但第四种得到的结果回合我们预期的不一致<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">new Date(2013,08,02) //Date &#123;Mon Sep 02 2013 00:00:00 GMT+0800 (China Standard Time)&#125;</div></pre></td></tr></table></figure></p>
<p>我们可以看到，传入的月份是08，返回的结果却是九月。这是因为Date对象的月份是从0开始计数的（天却不是），即0代表一月，1代表二月…11代表12月。在调用Date实例的getMonth方法时尤其要注意<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var d = new Date(2012, 4, 15); // 2012年5月15日</div><div class="line">alert(d.getMonth()); // 结果为4</div></pre></td></tr></table></figure></p>
<h6 id="Date-parse"><a href="#Date-parse" class="headerlink" title="Date.parse"></a>Date.parse</h6><p>Date.parse方法可以识别两种格式的字符串参数（标准的长日期格式，比如带星期的那种，也可以识别，不过不常用）：</p>
<ul>
<li><p>“M/d/yyyy”: 美国的日期显示格式。如果年传入2位则作为 19xx 处理</p>
</li>
<li><p>“yyyy-MM-dd” 或 “yyyy/MM/dd”: 注意月和日都必须是两位</p>
</li>
</ul>
<p>Date.parse 的返回结果不是一个Date对象，而是从1970-01-01午夜（GMT）到给定日期之间的毫秒数。可以用Date的构造函数将其转换为Date对象。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">new Date(Date.parse(&quot;8/2/2012&quot;)); // 正确识别为2012年8月2日</div><div class="line">new Date(Date.parse(&quot;2012-08-02&quot;)); // 正确识别为2012年8月2日</div><div class="line">new Date(Date.parse(&quot;2012-8-2&quot;)); // 不能识别</div></pre></td></tr></table></figure></p>
<h5 id="for…in-遍历数组"><a href="#for…in-遍历数组" class="headerlink" title="for…in 遍历数组"></a>for…in 遍历数组</h5><p>for…in用来遍历一个对象中的成员（属性，方法），如果用来遍历数组的到的结果并不是预期中数组每项的值，方法神马的会被遍历出来<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">Array.prototype.contains = function(item) &#123;</div><div class="line">	for (var i = 0; i &lt;= this.length - 1; i++) &#123;</div><div class="line">		if (this[i] == item)</div><div class="line">			return this[i];</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">var staff = [&quot;Staff A&quot;, &quot;Staff B&quot;];</div><div class="line">// Normal Enumeration: Only the 2 items are enumerated</div><div class="line">for (var i = 0; i &lt;= staff.length - 1; i++) &#123;</div><div class="line">	var singleStaff = staff[i];</div><div class="line">	alert(singleStaff);</div><div class="line">&#125;</div><div class="line">// for...in Enumeration: the method &quot;contains&quot; are enumerated, too</div><div class="line">for (var singleStaff in staff) &#123;</div><div class="line">	alert(singleStaff);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>事实上很多时候我们都会给数组加上其他属性。比如 jQuery 对象就是一个数组对象加上一些扩展方法；再比如 String.prototype.match 方法返回值就是一个数组（正则表达式及其子表达式的匹配项）加上 index 和 input 两个属性。</p>
<h5 id="parseInt"><a href="#parseInt" class="headerlink" title="parseInt"></a>parseInt</h5><p>参数    描述<br>string    必需。要被解析的字符串。<br>radix    1. 可选。表示要解析的数字的基数。该值介于 2 ~ 36 之间。<br>radix    2. 如果省略该参数或其值为 0，则数字将以 10 为基础来解析。<br>radix    3. 如果它以 “0x” 或 “0X” 开头，将以 16 为基数。如果该参数小于 2 或者大于 36，则 parseInt() 将返回 NaN。<br>当参数 radix 的值为 0，或没有设置该参数时，parseInt() 会根据 string 来判断数字的基数。</p>
<p>举例，如果 string（开头结尾空格自动省略） 以 “0x” 开头，parseInt() 会把 string 的其余部分解析为十六进制的整数。如果 string 以 0 开头，那么 ECMAScript v3 允许 parseInt() 的一个实现把其后的字符解析为八进制或十六进制的数字。如果 string 以 1 ~ 9 的数字开头，parseInt() 将把它解析为十进制的整数。如果字符串的第一个字符不能被转换为数字，那么 parseFloat() 会返回 NaN。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">parseInt(&quot;10&quot;);        //返回 10</div><div class="line">parseInt(&quot;19&quot;,10);        //返回 19 (10+9)</div><div class="line">parseInt(&quot;11&quot;,2);        //返回 3 (2+1)</div><div class="line">parseInt(&quot;17&quot;,8);        //返回 15 (8+7)</div><div class="line">parseInt(&quot;1f&quot;,16);        //返回 31 (16+15)</div><div class="line">parseInt(&quot;010&quot;);        //未定：返回 10 或 8</div></pre></td></tr></table></figure></p>
<h5 id="setTimeout-setInterval执行时机"><a href="#setTimeout-setInterval执行时机" class="headerlink" title="setTimeout/setInterval执行时机"></a>setTimeout/setInterval执行时机</h5><p>setTimeout()和setInterval()经常被用来处理延时和定时任务。setTimeout() 方法用于在指定的毫秒数后调用函数或计算表达式,而setInterval()则可以在每隔指定的毫秒数循环调用函数或表达式，直到clearInterval把它清除。</p>
<p>JavaScript其实是运行在单线程的环境中的，这就意味着定时器仅仅是计划代码在未来的某个时间执行，而具体执行时机是不能保证的，因为页面的生命周期中，不同时间可能有其他代码在控制JavaScript进程。在页面下载完成后代码的运行、事件处理程序、Ajax回调函数都是使用同样的线程，实际上浏览器负责进行排序，指派某段程序在某个时间点运行的优先级。</p>
<p>我们可以可以把JavaScript想象成在时间线上运行。当页面载入的时候首先执行的是页面生命周期后面要用的方法和变量声明和数据处理，在这之后JavaScript进程将等待更多代码执行。当进程空闲的时候，下一段代码会被触发</p>
<p>除了主JavaScript进程外，还需要一个在进程下一次空闲时执行的代码队列。随着页面生命周期推移，代码会按照执行顺序添加入队列，例如当按钮被按下的时候他的事件处理程序会被添加到队列中，并在下一个可能时间内执行。在接到某个Ajax响应时，回调函数的代码会被添加到队列。JavaScript中没有任何代码是立即执行的，但一旦进程空闲则尽快执行。定时器对队列的工作方式是当特定时间过去后将代码插入，这并不意味着它会马上执行，只能表示它尽快执行。</p>
<h5 id="预解析"><a href="#预解析" class="headerlink" title="预解析"></a>预解析</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">console.log(a); //Error:a is not defined ,直接报错，下面语句没法执行，一下结果为注释该句后结果</div><div class="line">console.log(b) //undefined</div><div class="line">var b = &quot;Test&quot;;</div><div class="line">console.log(b); //Test</div></pre></td></tr></table></figure>
<p>很奇怪前两句变量a,b都没有声明，第一句却报错，第二句能够输出undefined？这是因为JavaScript是解释型语言，但它并不是直接逐步执行的，JavaScript解析过程分为先后两个阶段，一个是预处理阶段，另外一个就是执行阶段。在预处理阶段JavaScript解释器将完成把JavaScript脚本代码转换到字节码，然后第二阶段JavaScript解释器借助执行环境把字节码生成机械码，并顺序执行。</p>
<p>也就说JavaScript值执行第一句语句之前就已经将函数/变量声明预处理了，var b=”Test” 相当于两个语句，var b;（undefined结果的来源，在执行第一句语句之前已经解析），b=”Test”（这句是顺序执行的，在第二句之后执行）。这也是为什么我们可以在方法声明语句之前就调用方法的原因。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">showMsg(); // This is message</div><div class="line">function showMsg() &#123;</div><div class="line">	alert(&apos;This is message&apos;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h5 id="块级作用域"><a href="#块级作用域" class="headerlink" title="块级作用域"></a>块级作用域</h5><p>JavaScript没有块级作用域，只有函数级作用域，这就意味着{}在JavaScript中只能起到语法块的作用，而不能起到作用域块作用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">if (true) &#123; //语法块，保证&#123;&#125;内代码if条件成立执行</div><div class="line">	//...</div><div class="line">	var a = 3;</div><div class="line">&#125;</div><div class="line">console.log(a); //3</div></pre></td></tr></table></figure></p>
<p>上面例子可以清楚看到属于window的console.log方法依然可以访问貌似是局部变量的a</p>
<h5 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h5><p>首先从一个经典错误谈起，页面上有若干个div， 我们想给它们绑定一个onclick方法，于是有了下面的代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;divTest&quot;&gt;</div><div class="line">    &lt;span&gt;0&lt;/span&gt; &lt;span&gt;1&lt;/span&gt; &lt;span&gt;2&lt;/span&gt; &lt;span&gt;3&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div id=&quot;divTest2&quot;&gt;</div><div class="line">    &lt;span&gt;0&lt;/span&gt; &lt;span&gt;1&lt;/span&gt; &lt;span&gt;2&lt;/span&gt; &lt;span&gt;3&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">$(document).ready(function() &#123;</div><div class="line">	var spans = $(&quot;#divTest span&quot;);</div><div class="line">	for (var i = 0; i &lt; spans.length; i++) &#123;</div><div class="line">		spans[i].onclick = function() &#123;</div><div class="line">			alert(i);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>很简单的功能可是却偏偏出错了，每次alert出的值都是4，简单的修改就好使了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var spans2 = $(&quot;#divTest2 span&quot;);</div><div class="line">$(document).ready(function() &#123;</div><div class="line">	for (var i = 0; i &lt; spans2.length; i++) &#123;</div><div class="line">		(function(num) &#123;</div><div class="line">			spans2[i].onclick = function() &#123;</div><div class="line">				alert(num);</div><div class="line">			&#125;</div><div class="line">		&#125;)(i);</div><div class="line">	&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>闭包是指有权限访问另一个函数作用域的变量的函数，创建闭包的常见方式就是在一个函数内部创建另一个函数,只要存在调用内部函数的可能，JavaScript就需要保留被引用的函数。而且JavaScript运行时需要跟踪引用这个内部函数的所有变量，直到最后一个变量废弃，JavaScript的垃圾收集器才能释放相应的内存空间。</p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2017/01/02/JavaScript 误区.html/">JavaScript 误区</a></p>
        <p><span>文章作者:</span><a href="/" title="回到主页">xiaoqi</a></p>
        <p><span>发布时间:</span>2017-01-02, 14:06:23</p>
        <p><span>最后更新:</span>2017-02-22, 23:15:11</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2017/01/02/JavaScript 误区.html/" title="JavaScript 误区">http://www.xiaoqi888.cn/2017/01/02/JavaScript 误区.html/</a>
            <span class="copy-path" data-clipboard-text="原文: http://www.xiaoqi888.cn/2017/01/02/JavaScript 误区.html/　　作者: xiaoqi" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2017/01/03/谈谈JavaScript的prototype.html/">
                    谈谈JavaScript的prototype
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2016/12/27/避免常见的6种HTML5错误用法总结.html/">
                    避免常见的6种HTML5错误用法
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#String-replace"><span class="toc-number">1.</span> <span class="toc-text">String replace</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#typeof"><span class="toc-number">2.</span> <span class="toc-text">typeof</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#if和"><span class="toc-number">3.</span> <span class="toc-text">if和==</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Date-对象"><span class="toc-number">4.</span> <span class="toc-text">Date 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Date-parse"><span class="toc-number">4.1.</span> <span class="toc-text">Date.parse</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#for…in-遍历数组"><span class="toc-number">5.</span> <span class="toc-text">for…in 遍历数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#parseInt"><span class="toc-number">6.</span> <span class="toc-text">parseInt</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#setTimeout-setInterval执行时机"><span class="toc-number">7.</span> <span class="toc-text">setTimeout/setInterval执行时机</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#预解析"><span class="toc-number">8.</span> <span class="toc-text">预解析</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#块级作用域"><span class="toc-number">9.</span> <span class="toc-text">块级作用域</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#闭包"><span class="toc-number">10.</span> <span class="toc-text">闭包</span></a></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"JavaScript 误区　| 黄小齐前端博客—热爱WEB前端开发,分享前端技术　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2017/01/03/谈谈JavaScript的prototype.html/" title="上一篇: 谈谈JavaScript的prototype">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2016/12/27/避免常见的6种HTML5错误用法总结.html/" title="下一篇: 避免常见的6种HTML5错误用法">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/03/05/106.html/">说说JSON和JSONP，原来ajax引用这个来实现跨域访问的</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/03/105.html/">关于jquery中html()、text()、val()的区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/02/104.html/">JavaScript的一些基本知识--DOM操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/26/103.html/">不错的HTML5拖拽小案例</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/24/102.html/">防止表单重复提交</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/23/101.html/">使用hexo搭建个人博客</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/23/100.html/">JSON的数据格式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/21/省市区三级联动.html/">省市区三级城市联动</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/20/JS构造函数方法与原型prototype上的方法.html/">JS构造函数方法与原型prototype上的方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/20/js实现随机点名.html/">js实现随机点名</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/19/基于angualr.js实现的触摸滑动动画.html/">基于angualr.js实现的触摸滑动动画</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/17/Web安全与防御措施.html/">Web安全与防御措施</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/16/javascript DOM的操作，更新，遍历，添加.html/">javascript DOM的操作，更新，遍历，添加</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/16/js中怎么获取系统当前时间 格式 yyyy-MM-dd HHMMSS.html/">js中怎么获取系统当前时间 格式 yyyy-MM-dd HHMMSS</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/15/倒计时的三种写法.html/">倒计时的三种写法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/14/详谈一下闭包是什么.html/">详谈一下闭包是什么</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/13/表单取消监听数据变化.html/">表单取消监听数据变化</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/12/JavaScript-原型、原型链.html/">JavaScript-原型、原型链</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/10/上下移动的无缝滚动.html/">上下移动的无缝滚动</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/08/Javascript 面向对象编程（一）：封装.html/">Javascript 面向对象编程（一）：封装</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/08/Web前端的学习路线,你真的知道吗.html/">Web前端的学习路线,你真的知道吗</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/07/Ajax的url请求中为何要加随机数.html/">Ajax的url请求中为何要加随机数</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/06/关于css的一些知识小总结.html/">关于css的一些知识小总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/06/jquery 处理 CheckBox复选框.html/">jquery 处理 CheckBox复选框</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/04/JavaScript运算符使用误区.html/">JavaScript运算符使用误区</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/03/去掉谷歌浏览器获取焦点时默认的input.html/">去掉谷歌浏览器获取焦点时默认的input、textarea的边框和背景</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/03/元素设置padding或margin的问题.html/">元素设置width:100%之后再设置padding或margin的问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/03/JavaScript知识简单总结.html/">JavaScript知识简单总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/02/xq6.html/">JavaScript实现冒泡排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/02/xq5.html/">了解模块化开发</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/02/xq4.html/">CSS初始化代码</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/02/xq3.html/">Git 常用命令大全</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/01/xq2.html/">Javascript日期类型的巧用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/01/xq1.html/">深入理解JavaScript—event（事件对象）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/24/hello-world.html/">理解 Javascript回调函数</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/23/超详细的移动端html5头标签head介绍.html/">超详细的移动端html5头标签head介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/06/JavaScript 闭包到底是什么.html/">JavaScript 闭包到底是什么</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/05/JS中的call()和apply()方法.html/">JS中的call()和apply()方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/03/谈谈JavaScript的prototype.html/">谈谈JavaScript的prototype</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/02/JavaScript 误区.html/">JavaScript 误区</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/27/避免常见的6种HTML5错误用法总结.html/">避免常见的6种HTML5错误用法</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2017 xiaoqi  <a href="http://www.miitbeian.gov.cn/" target="_blank">豫ICP备16041185号</a>
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
  </div>
</body>
</html>